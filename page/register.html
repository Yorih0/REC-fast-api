  <!DOCTYPE html>
  <html lang="ru">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="description" content="Описание вашего сайта">
      <meta name="keywords" content="ключевые, слова, сайта">
      <meta name="author" content="Ваше имя">
      <title>ReCharge</title>
      <link rel="stylesheet" href="css/register.css">
      <link rel="stylesheet" href="css/toast.css">
  </head>
  <body>
    <div class="stars-container"></div>
      <header>
          <div class="logo" onclick="Back()"><div class="shine">ReCharge</div></div>
      </header>

      <div class="wrapper">
      <div class="gradient-box">
        <div class="box-title">Регистрация</div>
        <form id="registrationForm" onsubmit="return Register_Form(event)">

        <div class="form-group">
          <label for="login">Логин</label>
          <input type="text" id="Login" name="Login" required>
        </div>
        <div class="form-group">
          <label for="Password">Пароль</label>
          <input type="password" id="Password" name="Password" required>
        </div>
        <div class="form-group">
          <label for="Password_Repeat">Повтор пароля</label>
          <input type="password" id="Password_Repeat" name="Password_Repeat" required>
        </div>
        <div class="form-group">
          <label for="Mail">Почта</label>
          <input type="email" id="Mail" name="Mail" required placeholder="dog@mail.ru">
        </div>
        <div class="form-group">
          <label for="Phone">Телефон</label>
          <input type="tel" id="Phone" name="Phone" required placeholder="+375 33 123 45 67 или 80331234567">
        </div>

        <div class="login-button">
          <button class="circle-btn" type="submit">
            <svg class="arrow-icon" viewBox="0 0 24 24">
              <path d="M8 4l8 8-8 8" />
            </svg>
          </button>
          <div class="box-title-no-acc">Уже есть аккаунт?</div>
          <a class="box-title-go-acc" onclick="Login()">Войти</a>
        </div>
        </form>
      </div>
      </div>

      <footer class="footer">
        <div class="footer-line"></div>
        <div class="footer-content">
            <div class="footer-phone">+3752945674893</div>
            <div class="footer-copyright">ReCharge 2025 ©</div>
            <div class="footer-email">Recharge@gmail.com</div>
        </div>
      </footer>
  <script src="js/General.js"></script>
  <script>
    async function Profile() 
    {
        const formData = {
            hashkey: getCookie('hashkey'),
        };
        try 
        {
            const response = await fetch('/Profile', {
            method: 'POST',
            headers: {
            'Content-Type': 'application/json',
            'Accept': 'application/json'
            },body: JSON.stringify(formData)
            });
            const result = await response.json();
            if (response.ok) 
            {
                switch(result.type)
                {
                    case "Customer":
                    {
                        window.location.href = "/profile_user";
                        break;
                    }
                    case "Worker":
                    {
                        window.location.href = "/profile_worker";
                        break;
                    }
                    case "Admin":
                    {
                        window.location.href = "/profile_admin";
                        break;
                    }
                }
            }
            else 
            {
                showToast(result.message, "error");
            }
        }
        catch (err)
        {
                showToast("Ошибка сети", "error");
        }
        return false;
    }
  async function Register_Form(event) 
  {
    event.preventDefault();
    const formData = { 
      login: document.getElementById('Login').value, 
      password: document.getElementById('Password').value, 
      password_r: document.getElementById("Password_Repeat").value, 
      mail: document.getElementById("Mail").value, 
      phone: document.getElementById("Phone").value 
    };
    try 
    {
      const response = await fetch('/Register', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: JSON.stringify(formData)
      });

      const result = await response.json();
      if (response.ok) 
      {
        showToast(result.message, "success");
        setCookie(result.hashkey)
        setTimeout(() => { Profile() }, 500);
      }
      else {
        showToast(result.message, "error");
      }
    } 
    catch (err) 
    {
      showToast("Ошибка сети", "error");
    }
    return false;
  }
  function Login() 
  {
    window.location.href = "/login";
  }
  </script>

  <script>
  // Создание анимированных звездочек
  function createStar() {
    const container = document.querySelector('.stars-container');
    const star = document.createElement('div');
    star.className = 'star';
    
    // Случайная позиция
    const x = Math.random() * window.innerWidth;
    const y = Math.random() * window.innerHeight;
    
    star.style.left = x + 'px';
    star.style.top = y + 'px';
    
    container.appendChild(star);
    
    // Удаляем звездочку после анимации
    setTimeout(() => {
      star.remove();
    }, 2000);
  }

  // Создаем звездочки периодически
  setInterval(() => {
    createStar();
  }, 800);

  // Создаем несколько звездочек сразу
  for (let i = 0; i < 5; i++) {
    setTimeout(() => createStar(), i * 200);
  }
  </script>

  </body>
  </html>